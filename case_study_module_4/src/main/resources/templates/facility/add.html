<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Title</title>
    <link rel="stylesheet" href="/bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <link href='https://fonts.googleapis.com/css?family=Courgette' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Bad Script' rel='stylesheet'>
    <script src="https://kit.fontawesome.com/121b5e5230.js" crossorigin="anonymous"></script>
</head>
<body style="font-family: Courgette,serif;background: #E0FFFF">
<div class="container-fluid position-relative">
    <div class="row">
        <div class="col-lg-10 d-flex justify-content-center  position-absolute" style="top: 7%">
            <div class="row" style="width: 95%">
                <div class="col-lg-12 text-center"><h2>Add New Service</h2></div>
                <div class="col-lg-12">
                    <form class="row" action="/facility/save" method="post">
                        <div class="col-lg-2 ps-5">
                            <div class="form-check" th:each="type:${facilityTypeList}" th:attr="onclick=|showInput('${type.id}')|">
                                <input type="hidden" th:value="${type.id}" id="onload">
                                <div th:if="${facilityTypeList.indexOf(type) == 0}">
                                    <input class="form-check-input" type="radio" name="type"  th:value="${type.id}"  th:id="${type.name}"
                                           checked>
                                </div>
                                <div th:unless="${facilityTypeList.indexOf(type) == 0}">
                                    <input class="form-check-input" type="radio" name="type"   th:value="${type.id}"  th:id="${type.name}">
                                </div>
                                <label class="form-check-label" th:for="${type.name}" th:text="${type.name}"></label>
                            </div>
                        </div>
                        <div class="col-lg-10 text-dark">
                            <div class="row">
                                <div class="col-lg-6 ps-5 pe-5">
                                    <div class="row pb-4">
                                        <div class="col-lg-12"><span>Name:</span><span
                                                class="text-danger">${nameErr}</span></div>
                                        <div class="col-lg-12"><input type="text" class="form-control"
                                                                      placeholder="Service name"
                                                                      aria-label="Service name"
                                                                      th:field="*{facilityDto.name}"></div>
                                    </div>
                                    <div class="row pb-4">
                                        <div class="col-lg-12"><span>Area:</span><span
                                                class="text-danger">${areaErr}</span></div>
                                        <div class="col-lg-12"><input type="number" class="form-control"
                                                                      placeholder="Area"
                                                                      aria-label="Area" th:field="*{facilityDto.area}">
                                        </div>
                                    </div>
                                    <div class="row pb-4">
                                        <div class="col-lg-12"><span>Cost:</span><span
                                                class="text-danger">${costErr}</span></div>
                                        <div class="col-lg-12"><input type="number" name="cost" class="form-control"
                                                                      placeholder="Cost"
                                                                      aria-label="Cost" th:field="*{facilityDto.cost}">
                                        </div>
                                    </div>
                                    <div class="row pb-4">
                                        <div class="col-lg-12"><span>Max people</span><span
                                                class="text-danger">${maxPeopleErr}</span></div>
                                        <div class="col-lg-12"><input type="number" class="form-control"
                                                                      placeholder="Max people"
                                                                      aria-label="Max people"
                                                                      th:field="*{facilityDto.maxPeople}"></div>
                                    </div>
                                    <div class="row pb-4">
                                        <div class="col-lg-12"><span>Rental type</span></div>
                                        <div class="col-lg-12">
                                            <select class="form-select" th:field="*{facilityDto.rentType}">
                                                <option th:each="rentType:${rentTypeList}"
                                                        th:value="${rentType.id}" th:text="${rentType.name}">
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <button type="submit" class="btn btn-primary">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 ps-5 pe-5">
                                    <input type="hidden" th:field="*{facilityDto.facilityType}" id="type">
                                    <div class="row pb-4" style="display: none" id="standard">
                                        <div class="col-lg-12"><span>Room standard</span></div>
                                        <div class="col-lg-12"><input id="standardInput" type="text"
                                                                      class="form-control"
                                                                      placeholder="Room standard"
                                                                      th:field="*{facilityDto.standardRoom}"
                                                                      aria-label="Room standard"></div>
                                    </div>
                                    <div class="row pb-4" style="display: none" id="convenience">
                                        <div class="col-lg-12"><span>Other convenience</span></div>
                                        <div class="col-lg-12"><input id="convenienceInput" type="text"
                                                                      class="form-control"
                                                                      placeholder="Other convenience"
                                                                      th:field="*{facilityDto.otherConvenient}"
                                                                      aria-label="Other convenience"></div>
                                    </div>
                                    <div class="row pb-4" style="display: none" id="floors">
                                        <div class="col-lg-12"><span>Number of floors</span><span
                                                class="text-danger">${floorErr}</span></div>
                                        <div class="col-lg-12"><input id="floorsInput" type="number"
                                                                      class="form-control"
                                                                      placeholder="Number of floors"
                                                                      aria-label="Number of floor"
                                                                      th:field="*{facilityDto.floors}"
                                                                      value="${facility.floors}"></div>
                                    </div>
                                    <div class="row pb-4" style="display: block" id="free">
                                        <div class="col-lg-12"><span>Facility free</span></div>
                                        <div class="col-lg-12"><input id="freeInput" type="text"
                                                                      class="form-control"
                                                                      placeholder="Facility free"
                                                                      th:field="*{facilityDto.facilityFree}"
                                                                      aria-label="Facility free"></div>
                                    </div>
                                    <div class="row pb-4" style="display: none" id="poolArea">
                                        <div class="col-lg-12"><span>Pool area:</span><span
                                                class="text-danger">${poolErr}</span></div>
                                        <div class="col-lg-12"><input id="poolAreaInput" type="number"
                                                                      class="form-control"
                                                                      th:field="*{facilityDto.poolArea}"
                                                                      placeholder="Pool area" aria-label="Pool area"
                                                                      value="${facility.poolArea}"></div>
                                    </div>
                                    <div class="row pb-4">
                                        <div class="col-lg-12">
                                            <p><i th:text="${mess}" class="text-success"></i></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-10 pt-3 pb-3 d-flex justify-content-center">
            <img style="border-radius: 30px" width="93%"
                 src="https://s3.ap-southeast-2.amazonaws.com/travlr.com/uploads/images/venue/923e2231037b6ad79efbd200cf2a1d6e.jpg"
                 alt="">
        </div>
        <nav th:replace="nav::nav_bar"></nav>
    </div>
</div>
<script>
    let code = document.getElementById("onload").value;
    window.onload = showInput(code);

    function showInput(value) {
        document.getElementById("type").value = value;
        switch (value) {
            case "2":
                console.log(value);
                document.getElementById("standard").style.display = "block";
                document.getElementById("floors").style.display = "block";
                document.getElementById("convenience").style.display = "block";
                document.getElementById("free").style.display = "none";
                document.getElementById("poolArea").style.display = "none";
                document.getElementById("poolAreaInput").value = "";
                document.getElementById("freeInput").value = "";
                break;
            case "1":
                document.getElementById("standard").style.display = "block";
                document.getElementById("floors").style.display = "block";
                document.getElementById("convenience").style.display = "block";
                document.getElementById("free").style.display = "none";
                document.getElementById("poolArea").style.display = "block";
                document.getElementById("freeInput").value = "";
                break;
            case "3":
                document.getElementById("standard").style.display = "none";
                document.getElementById("floors").style.display = "none";
                document.getElementById("convenience").style.display = "none";
                document.getElementById("free").style.display = "block";
                document.getElementById("poolArea").style.display = "none";
                document.getElementById("standardInput").value = "";
                document.getElementById("floorsInput").value = "";
                document.getElementById("convenienceInput").value = "";
                document.getElementById("poolAreaInput").value = "";
                break;
        }
    }
</script>
<script src="../../bootstrap-5.1.3-dist/jquery-3.6.0.min.js"></script>
<script src="bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
</body>
</html>
